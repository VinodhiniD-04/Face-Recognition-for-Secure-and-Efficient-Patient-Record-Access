# Face-Recognition-for-Secure-and-Efficient-Patient-Record-Access
<!doctype html>
<html lang="en">
    <head>
        <meta charset="UFT-8">
        <meta http-equiv="X-UA-Compatible"content="IE=edge">
        <meta name="viewport" content="width=device-width,inital-scale=1.0">
        <title>SRM FACE MED VIEW</title>
        <!--font awesome cdn link-->
        <link rel="stylesheet"href="C:\Users\suhas\OneDrive\Documents\miniprojectsrm\style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    </head>
    <body>
        <!--header section starts-->
        <header class="header">
            <a href="#" class="logo"><i class ="fas fa-heartbeat"></i>SRM Med-FaceView</a>
            <nav class="navbar">
                <a href="#home">Home</a>
                <a href="#services">services</a>
                <a href="#about">About</a>
                <a href="#doctors">Doctors</a>
                <a href="#helpus">HelpUs</a>
                <a href="#signin">SignIn</a>
                <a href="#signup">Face Detection</a>
            </nav>
             <div id=".menu-btn" class="fas fa-bars"></div>
        </header>
        <!--header section ends-->
        <!--home section starts-->
        <section class="home" id="home">
            <div class="image">
                <img src="CT scan-amico.svg" alt="">
            </div>
            <div class="content">
                <h3>stay safe,stay healthy</h3>
                <p>SRM Global Hospitals, renowned as the top-rated healthcare institution in Kattankulathur, Chennai, stands as a prominent super-specialty hospital with an outstanding history of achievements. With extensive experience spanning more than three decades, our utmost dedication lies in offering unparalleled medical services.</p>
                <a href="#" class="btn">Contact us</us> <span class="fas fa-chevron-right"></span> </a>
 </div>
        </section>
        <!--home section ends-->
        <!--icons section starts-->
        <section class="icons-container">
            <div class="icons">
                <i class="fas fa-user-md"></i>
                <h3>140+</h3>
                <p>doctors at work</p>
            </div>
            <div class="icons">
                <i class="fas fa-users"></i>
                <h3>1800+</h3>
                <p>satisfied patients</p>
            </div>
            <div class="icons">
                <i class="fas fa-procedures"></i>              <!--bed,doctors.. available category -->
                <h3>800+</h3>
                <p>bed facility</p>
            </div>
            <div class="icons">
                <i class="fas fa-hospital"></i>
                <h3>1040+</h3>
                <p>avaliable hospitals</p>
            </div>
        </section>
        <!--icons section ends-->
        <!--services section starts-->
        <section class="services" id="services">
            <h1 class="heading"> our <span>services</span></h1>
                <div class="box-container">
                    <div class="box">
                        <i class="fas fa-notes-medical"></i>
                        <h3>free checkups</h3>
                        <p>There is a hospital in the campus itself called SRM general hospital where you will get free checkup and you can buy the meds the doc prescribes you.</p>
                        <a href="#" class="btn" >learn more<span class="fas fa-chevron-right"></span></a>
                    </div>
                    <div class="box">
                        <i class="fas fa-ambulance"></i>
                        <h3>24/7 ambulance</h3>
                        <p>Call our Ambulance for any emergency (Toll Free No : 044-4743-2350)</p>
                        <a href="#" class="btn" >learn more<span class="fas fa-chevron-right"></span></a>
                    </div>
                    <div class="box">
                        <i class="fas fa-user-md"></i>
                        <h3>expert doctors</h3>
                        <p>With highly skilled physicians and experienced doctors, we specialize in treating disorders of the digestive tract,cancer,tumor ...</p>
                        <a href="#" class="btn" >learn more<span class="fas fa-chevron-right"></span></a>
                    </div>
                    <div class="box">
                        <i class="fas fa-pills"></i>
                        <h3>medicines</h3>
                        <p>SRMC has a professional team of general physicans & general medicine doctors, internal medical specialist, having faculty with experienced and expertise in their field.</p>
                        <a href="#" class="btn" >learn more<span class="fas fa-chevron-right"></span></a>
                    </div>
                    <div class="box">
                        <i class="fas fa-procedures"></i>
                        <h3>bed facility</h3>
                        <p>his Hospital has more than 1600 beds and also has six fully equipped intensive care units, 23 state of the art operating theatres, 24/7 Pharmacy, Radiology, Dialysis, Laboratory Facilities and several others.</p>
                        <a href="#" class="btn" >learn more<span class="fas fa-chevron-right"></span></a>
                    </div>
                    <div class="box">
                        <i class="fas fa-heartbeat"></i>
                        <h3>total care</h3>
                        <p>SRMC has over 750 faculties and three thousand students; it touches the lives of over 3500 patients each day; through its telemedicine network it reaches over 10 centres in the country; through its international wing SRHI, it is reaching out to the global village</p>
                        <a href="#" class="btn" >learn more<span class="fas fa-chevron-right"></span></a>
                    </div>
                </div>
        </section>
        <!--services section ends-->
        <!--about section starts-->
        <section class="about" id="about">
            <h1 class="heading"> <span>about </span>us</h1>
            <div class="row">
                <div class="image">
                    <img src="Hospital wheelchair-amico.svg" alt="">
                </div>
                <div class="content">
                    <h3>we take care of your healthy life</h3>
                    <p>SRM Medical Hospital And Research Centre, Kattankulathur has 1590 beds providing tertiary care along with 24x7 emergency and trauma care. They provide treatments across 52 departments including Superspeciality departments like Cardiology, Nephrology, Urology, Neurosurgery, etc</p>
                    <a href="#" class="btn" >learn more<span class="fas fa-chevron-right"></span></a>
                </div>
            </div>
        </section>
        <!--about section ends-->
        <!-- doctors section starts-->
        <section class="doctors" id="doctors">
            <h1 class="heading"> our <span>doctors </span></h1>
            <div class="box-container">
                <div class="box">
                    <img src="img.jpg/images1.jpg" alt="">
                    <h3>vinodhini</h3>
                    <span>expert doctors</span>
                    <div class="share">
                        <a href="#" class="fab fa-facebook-f"></a>
                        <a href="#" class="fab fa-twitter"></a>
                        <a href="#" class="fab fa-instagram"></a>
                        <a href="#" class="fab fa-linkedin"></a>
                    </div>
                </div>
                <div class="box">
                    <img src="img.jpg/images2.jpg" alt="">
                    <h3>vijay</h3>
                    <span>expert doctors</span>
                    <div class="share">
                        <a href="#" class="fab fa-facebook-f"></a>
                        <a href="#" class="fab fa-twitter"></a>
                        <a href="#" class="fab fa-instagram"></a>
                        <a href="#" class="fab fa-linkedin"></a>
                    </div>
                </div>
                <div class="box">
                    <img src="img.jpg/images3.jpg" alt="">
                    <h3>kaviya</h3>
                    <span>expert doctors</span>
                    <div class="share">
                        <a href="#" class="fab fa-facebook-f"></a>
                        <a href="#" class="fab fa-twitter"></a>
                        <a href="#" class="fab fa-instagram"></a>
                        <a href="#" class="fab fa-linkedin"></a>
                    </div>
                </div>
                <div class="box">
                    <img src="img.jpg/images4.jpg" alt="">
                    <h3>dhanush</h3>
                    <span>expert doctors</span>
                    <div class="share">
                        <a href="#" class="fab fa-facebook-f"></a>
                        <a href="#" class="fab fa-twitter"></a>
                        <a href="#" class="fab fa-instagram"></a>
                        <a href="#" class="fab fa-linkedin"></a>
                    </div>
                </div>
            </div>
        </section>
        <!-- doctors section starts-->
        <!--custom js file link-->
        <script src="js/script.js">
        </script>
    </body>
</html>
CSS:
@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,400;0,600;0,700;1,300&display=swap');
:root{
    --violet:#d056f1;
    --black:#444;
    --light-color:#777;
    --box-shadow:.5rem .5rem 0 rgba(22,160,133,.2);
    --box-shadow:.4rem .4rem 0 rgba(0,0,0,.2);
    --border:.2rem solid var(--violet);
}
*{
    font-family: 'Poppins', sans-serif;
    margin:0; 
    padding: 0;
    box-sizing: border-box;
    outline: none;
    border: none;
    text-transform: capitalize;
    transition: all .2s ease-out;
    text-decoration: none;
}
/svg img h3 ,p/
section{
    padding:2rem 9%;
}
/bed,available category starts/
section:nth-child(even){
    background: #f5f5f5;
}
/our services starts/
.heading{
    text-align: center;
    padding-bottom: 2rem;
    text-shadow: var(--text-shadow);
    text-transform: uppercase;
    color: var(--black);
    font-size: 5rem;
    letter-spacing: .4rem;
}
.heading span{
    text-transform: uppercase;
    color: var(--violet);
}
/our services ends/

/bed,available category ends/
.btn{
    display: inline-block;
    margin-top: 1rem;
    padding: .5rem;
    padding-left: 1rem;
    border:var(--border);
    border-radius: .5rem;
    box-shadow: var(--box-shadow);
    color:var(--violet);
    cursor:pointer;
    font-size: 1.7rem;
}
.btn span{
    padding: .7rem 1rem;
    border-radius: .5rem;
    background: var(--violet); /contact us button/
    color:#fff;
    margin-left: .5rem;
}
.btn:hover{
    background-color: var(--violet);
    color: #fff;
}
.btn:hover span{
    color: var(--violet);
    background-color: #fff;
    margin-left: 1rem;
}
/ends/
html{
    font-size: 62.5%;
    overflow-x: hidden;
    scroll-padding-top: 7rem;
    scroll-behavior: smooth;
}
.header{
    padding:.2rem 9%;
    position: fixed;
    top:0;left:0;right: 0;
    z-index: 1000;
    box-shadow: 0.5rem 1.5rem rgba(0,0,0,.2);
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #fff;
}
.header .logo{
    font-size: 3.5rem;
    color:var(--black)
}
.header .logo i{
    color:var(--violet);
}
.header .navbar a{
    font-size: 1.7rem;
    color:var(--light-color);
    margin-left: 2rem;
}
.header .navbar a:hover{
    color: var(--violet);
}
.menu-btn{
    font-size: 2.5rem;
    border-radius: .5rem;
    background: #eee;
    color:var(--violet);
    padding :1rem 1.5rem;
    cursor: pointer;
    display: none;
}
/* img display 1*/
.home{
    display: flex;
    align-items:center; /stsy...,h3,p,contactus in center css code/
    flex-wrap: wrap;
    gap:1.5rem;
    padding-top: 10rem;
}
.home .image{
    flex:1 1 45rem;
}
.home .image img{
    width:100%;
}
.home .content{
    flex:1 1 45rem;
}
.home .content h3{
    font-size: 4.5rem;
    color:var(--black);
    line-height:1.8;
    text-shadow: var(--text-shadow);
}
.home .content p{
    font-size: 1.7rem;
    color:var(--light-color);
    line-height:1.8;
    padding: 1rem 0;
}
/* bed,avaliable category css coding starts*/
.icons-container{
    display: grid;
    gap: 2rem;
    grid-template-columns: repeat(auto-fit,minmax(20rem,1fr));
    padding-top: 1rem;
    padding-bottom: 10rem;
}
.icons-container .icons{
    border:var(--border);
    box-shadow: var(--box-shadow);
    border-radius: .3rem;
    text-align: center;
    padding: 2.5rem;
}
.icons-container .icons i{
    font-size: 3.5rem;
    color:var(--violet);
    padding-bottom: .7rem;
}
.icons-container .icons h3{
    font-size: 4.5rem;
    color:var(--black);
    padding-bottom: .5rem 0;
    text-shadow: var(--text-shadow);
}
.icons-container .icons p{
    font-size: 1.7rem;
    color:var(--light-color);
}
/* bed,avaliable category css coding ends*/
/our services start/
.services .box-container{
    display:grid;
    grid-template-columns: repeat(auto-fit,minmax(27rem,1fr));
    gap:2rem;
}
.services .box-container .box{
    background: #fff;
    border-radius: 0.9rem;
    box-shadow: var(--box-shadow);
    border: var(--border);
    padding: 2.5rem;
}
.services .box-container .box i{
    color: var(--violet);
    font-size: 3rem;
    padding-bottom: .4rem;
}
.services .box-container .box h3{
    color: var(--black);
    font-size: 1.9rem;
    padding: 1rem 0;
}
.services .box-container .box p{
    color: var(--light-color);
    font-size: 1.1rem;
    line-height: 2;
}
/our services end/
/about section start about us/
.about .row{
    display:flex;
    align-items:center ;
    flex-wrap: wrap;
    gap: 2rem;
}
.about .row .image{
    flex:1 1 45rem;
}
.about .row .image img{
    width:100%;
}
.about .row .content{
    flex:1 1 45rem;
}
.about .row .content h3{
    color: var(--black);
    text-shadow: var(--text-shadow);
    font-size: 3rem;
    line-height: 1.8;
}
.about .row .content p{
    color: var(--light-color);
    padding: 1rem 0;
    font-size: 1.5rem;
    line-height: 1.8;
}
/about section end about us/
/doctors section starts/
.doctors .box-container {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(27rem,1fr));
    gap:2rem;
}
.doctors .box-container .box{
    text-align: center;
    background: #fff;
    border-radius: .5rem;
    border:var(--border);
    box-shadow: var(--box-shadow);
    padding: 2rem;
}
.doctors .box-container .box img{
    height: 20rem;
    border: var(--border);
    border-radius: .5rem;
    margin-top: 1rem;
    margin-bottom: 1rem;
}
.doctors .box-container .box h3{
    color:var(--black);
    font-size: 2.5rem;
}
.doctors .box-container .box span{
    color:var(--violet);
    font-size: 1.5rem;
}
.doctors .box-container .box .share{
    padding-top:2rem;
}
.doctors .box-container .box .share a{
    height: 5rem;
    width: 5rem;
    line-height: 4.5rem;
    font-size: 2rem;
    color:var(--violet);
    border-radius: .5rem;
    border: var(--border);
    margin:.3rem;
}
.doctors .box-container .box .share a:hover{
    background: var(--violet);
    color: #fff;
    box-shadow: var(--box-shadow);
}
/*doctors section end */
/img display end/

/* media queries */
@media(max-width:991px){
    html{
        font-size: 55%;
    }
    .header{
        padding:2rem;
    }
}
@media(max-width:768px) {
    .menu-btn{
        display: initial;
    }
    .header .navbar{
        position:absolute;
        top: 115%;right: 2rem;
        border-radius: .5rem;
        box-shadow: var(--box-shadow);
        width:30rem;
        border:var(--border);
        background: #fff;
        transform: scale(0);
        opacity: 0;
        transform-origin: top right;
        transition: none;
    }
    .header .navbar .active{
        transform: scale(0);
        opacity: 1;
        transition: .2s ease-out;
    }
    .header .navbar a{
        font-size: 2rem;
        display: block;
        margin: 2.5rem;

    }
}
@media(max-width:450px){
    html{
        font-size: 50%;
    }
    }
Javascript:
let menu=document.querySelector('.menu-btn');
let navbar=document.querySelector('.navbar')

menu.onclick= () =>{
    menu.classList.toggle('fa-times');
    navbar.classList.toggle('active');
}
window.onscroll= () =>{
    menu.classList.remove('fa-times');
    navbar.classList.remove('active');
}
Face Recognition:
from flask import Flask, render_template, request, redirect, url_for,jsonify
import cv2
import os
import json
import numpy as np
import csv
import pandas as pd
from PIL import Image, ImageFont, ImageDraw
import datetime
from flask_cors import CORS
import time
import sqlite3

app = Flask(__name__)
CORS(app)

ALLOWED_EXTENSIONS = {'png', 'jpg', 'jpeg'}
REGISTER_PATH="./Register/"
TEMP_PATH="./Capturing_Images"
upload_path='./upload_face'
upload_path2='./upload_face2'
app.config['SEND_FILE_MAX_AGE_DEFAULT']=1
def allowed_file(filename):
    return '.' in filename and \
           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS

conn = sqlite3.connect('db.sqlite3')
c = conn.cursor()
#alter_query = '''ALTER TABLE users 
                 #ADD COLUMN ph TEXT'''
#c.execute(alter_query)
c.execute('''CREATE TABLE IF NOT EXISTS srm (
                name TEXT,
                Id TEXT,
                Gender TEXT,
                phonenumber TEXT,
                address TEXT,
                Email TEXT
            )''')

###c.execute('''(DESC users)''')
conn.commit()
conn.close()

@app.route('/patientreg', methods=['GET', 'POST'])

def upload_register():
    
    if request.method == 'POST':
        if 'file' not in request.files:
            return json.dumps({"status": "Error", "msg": "Image cannot be empty "})
        

    return "Registration successful!"
       
       
def is_number(s):
    try:
        float(s)
        return True
    except ValueError:
        pass

    try:
        import unicodedata
        unicodedata.numeric(s)
        return True
    except (TypeError, ValueError):
        pass

    return False

@app.route('/')
def index():
    return render_template('frontpage.html')

@app.route('/login', methods=['GET', 'POST'])
def login():
    email = request.form.get('email')
    password = request.form.get('password')
    print(email.lower())
    print(password)
    
                        
    if (email.lower() == 'srm@gmail.com' and password == 'srm'):
        return json.dumps ({"status": "true","message": "User Registered Succesfully"})
    else:
        return json.dumps ({"status": "false","message": "User Not Registered"})

        
    

@app.route('/take_image', methods=['GET', 'POST'])
def TakeImages():
    name = request.form.get('name')
    print(name)
    Id = request.form.get('Id')
    Gender = request.form.get('gender')
    phonenumber = request.form.get('phonenumber')
    address = request.form.get('address')
    Email = request.form.get('email')
    print(Id)
    print(Gender)
    print(phonenumber)
    print(address)
    print(Email)
    
    conn = sqlite3.connect('db.sqlite3')
    c = conn.cursor()
        #c.execute("INSERT INTO users (username, email, password) VALUES (?, ?, ?)", (username, email, password))
    c.execute("INSERT INTO srm (name, Id, Gender, phonenumber, address, Email) VALUES (?, ?, ?, ?, ?, ?)",
              (name, Id, Gender, phonenumber, address, Email))
    conn.commit()
    conn.close()
    
    
    #Id='4123'
    #name='ghhwewewe'
    age='34'
    #gender='m'
    if(is_number(Id) and name.isalpha()):
        cam = cv2.VideoCapture(0)
        harcascadePath = "haarcascade_frontalface_default.xml"
        detector=cv2.CascadeClassifier(harcascadePath)
        sampleNum=0
        print("inside if cond")
        while(True):
            ret, img = cam.read()
            gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
            faces = detector.detectMultiScale(gray, 1.3, 5)
            for (x,y,w,h) in faces:
                cv2.rectangle(img,(x,y),(x+w,y+h),(255,0,0),2)        
                #incrementing sample number 
                sampleNum=sampleNum+1
                #saving the captured face in the dataset folder TrainingImage
                cv2.imwrite("Capturing_Images\ "+name +"."+Id +'.'+ str(sampleNum) + ".jpg", gray[y:y+h,x:x+w])
                #display the frame
                cv2.imshow('frame',img)
            #wait for 100 miliseconds 
            if cv2.waitKey(100) & 0xFF == ord('q'):
                break
            # break if the sample number is morethan 100
            elif sampleNum>60:
                break
        
        cam.release()
        cv2.destroyAllWindows() 
        res = "Images Saved for ID : " + Id +" Name : "+ name +"Age :" + age + "Gender:" +Gender
        row = [Id , name,age,Gender]
        with open('patient_List\patient_List.csv','a+') as csvFile:
            writer = csv.writer(csvFile)
            writer.writerow(row)
        csvFile.close()
        
        #message.configure(text= res)
    else:
        if(is_number(Id)):
            res = "Enter Alphabetical Name"
            message.configure(text= res)
        if(name.isalpha()):
            res = "Enter Numeric Id"
            message.configure(text= res)
    recognizer = cv2.face_LBPHFaceRecognizer.create()#recognizer = cv2.face.LBPHFaceRecognizer_create()#$cv2.createLBPHFaceRecognizer()
    harcascadePath = "haarcascade_frontalface_default.xml"
    detector =cv2.CascadeClassifier(harcascadePath)
    faces,Id = getImagesAndLabels("Capturing_Images")
    recognizer.train(faces, np.array(Id))
    recognizer.save("Models\Trainner.yml")
   # return json.dumps ({"status": "true","message": "User Registered Succesfully"})
    #res = "Image Trained"#+",".join(str(f) for f in Id)
    #message.configure(text= res)

def getImagesAndLabels(path):
    #get the path of all the files in the folder
    imagePaths=[os.path.join(path,f) for f in os.listdir(path)] 
    #print(imagePaths)
    #print(imagePaths)
    #create empth face list
    faces=[]
    #create empty ID list
    Ids=[]
    #now looping through all the image paths and loading the Ids and the images
    for imagePath in imagePaths:
        #loading the image and converting it to gray scale
        pilImage=Image.open(imagePath).convert('L')
        #Now we are converting the PIL image into numpy array
        imageNp=np.array(pilImage,'uint8')
        #getting the Id from the image
        Id=int(os.path.split(imagePath)[-1].split(".")[1])
        # extract the face from the training image sample
        faces.append(imageNp)
        Ids.append(Id)        
    return faces,Ids

# ... (previous code)
@app.route('/track_images', methods=['GET', 'POST'])
#@app.route('/track_images')
def TrackImages():
    
    recognizer = cv2.face.LBPHFaceRecognizer_create()#cv2.createLBPHFaceRecognizer()
    recognizer.read("Models\Trainner.yml")
    harcascadePath = "haarcascade_frontalface_default.xml"
    faceCascade = cv2.CascadeClassifier(harcascadePath);    
    df=pd.read_csv("patient_List\patient_List.csv")
    cam = cv2.VideoCapture(0)
    font = cv2.FONT_HERSHEY_SIMPLEX        
    col_names =  ['Id','Name','Date','Time','Location']
    attendance = pd.DataFrame(columns = col_names)   
    
    while True:
        ret, im =cam.read()
        gray=cv2.cvtColor(im,cv2.COLOR_BGR2GRAY)
        faces=faceCascade.detectMultiScale(gray, 1.2,5)    
        for(x,y,w,h) in faces:
            cv2.rectangle(im,(x,y),(x+w,y+h),(225,0,0),2)
            Id, conf = recognizer.predict(gray[y:y+h,x:x+w])
            print(conf)
            if(conf < 50):
                Location="College"
                ts = time.time()      
                date = datetime.datetime.fromtimestamp(ts).strftime('%Y-%m-%d')
                timeStamp = datetime.datetime.fromtimestamp(ts).strftime('%H:%M:%S')
                aa=df.loc[df['Id'] == Id]['Name'].values
                tt=str(Id)+"-"+aa+"-"+"Student"
                name=""
                phonenumber=""
                gender=""
                address=""
                email=""
                attendance.loc[len(attendance)] = [Id,aa,date,timeStamp,Location]
                #break
                con = sqlite3.connect('db.sqlite3')
                #Id =4123
                #completion = False
                with con:
                    cur = con.cursor()
                    cur.execute("SELECT * FROM srm WHERE Id = ?",(Id,))
                    #cur.execute("SELECT * FROM srm WHERE Id == :Id", {"Id": str(Id)})
                    rows = cur.fetchone()
                    #for row in rows:
                    if rows:
                        print(rows)                        
                        name = rows[0]
                        gender = rows[2]
                        phonenumber = rows[3]
                        address = rows[4]
                        email = rows[5]
                    else:
                        print("rows not found")
                    #con.commit()
                    #row = cur.fetchone()
                    #name = row[1]
                    #gender = row[2]
                    #phonenuber = row[3]
                    #address = row[4]
                    #email = row[5]
                #c.execute("SELECT * FROM srm WHERE Id=?",(Id))
                return json.dumps ({"status": "true","message": "face Detected","Id": str(Id),"name": name,"gender": gender,"phonenumber": phonenumber,"address": address,"email": email})
            else:
                Id='Not_MATCHED'                
                tt=str(Id)   
            if(conf > 75):
                noOfFile=len(os.listdir("Database"))+1
                cv2.imwrite("Database\Image"+str(noOfFile) + ".jpg", im[y:y+h,x:x+w])
            cv2.putText(im,str(tt),(x,y+h), font, 1,(255,255,255),2)        
        attendance=attendance.drop_duplicates(subset=['Id'],keep='first')
        cv2.imshow('Face_Recognize',im) 
        if ((cv2.waitKey(1)==ord('q'))):
            break 
    return json.dumps ({"status": "false","message": "No face Detected"})
    #return redirect(url_for('result', message=message))
@app.route('/result/<message>')
def result(message):
    return render_template('result.html', message=message)
if __name__ == '__main__':
    app.run(debug=True)
